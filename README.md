<p align="center">
  <img src="https://simpleicons.org/icons/dotnet.svg" style="filter:invert(1);" width="100" alt="project-logo">
</p>
<p align="center">
    <h1 align="center">MOVIESAPI</h1>
</p>
<p align="center">
    <em>MoviesAPI ‚Äì ¬°Desarrollo simplificado, pruebas optimizadas!** Al abrazar las complejidades de la soluci√≥n configurable de MoviesAPI (MoviesApi.sln), el entorno de ejecuci√≥n de pruebas simplificado (configuraci√≥n de pruebas unitarias de JetBrains dentro de la soluci√≥n de Visual Studio, MoviesApi.sln.DotSettings.user) y la gesti√≥n automatizada de la base de datos de pruebas (LocalDbDatabaseInitializer.cs), est√°s listo para conquistar el mundo del cine con nuestro robusto y eficiente ecosistema de API. Adem√°s, los archivos BaseTests.cs con configuraci√≥n de contexto estandarizada utilizando bases de datos en memoria, AutoMapper y manejadores de autorizaci√≥n personalizados, simplifican las pruebas en todo el proyecto MoviesApi, ¬°asegurando que tu experiencia cinematogr√°fica siempre sea de primera categor√≠a! üçøüé¨</em>
</p>
<p align="center">
	<img src="https://img.shields.io/github/license/juansdev/moviesapi?style=default&logo=opensourceinitiative&logoColor=white&color=0080ff" alt="license">
	<img src="https://img.shields.io/github/last-commit/juansdev/moviesapi?style=default&logo=git&logoColor=white&color=0080ff" alt="last-commit">
	<img src="https://img.shields.io/github/languages/top/juansdev/moviesapi?style=default&color=0080ff" alt="repo-top-language">
	<img src="https://img.shields.io/github/languages/count/juansdev/moviesapi?style=default&color=0080ff" alt="repo-language-count">
<p>
<p align="center">
	<!-- default option, no dependency badges. -->
</p>

<br><!-- TABLA DE CONTENIDO -->
<details>
  <summary>Tabla de Contenidos</summary><br>

- [Visi√≥n General](#-visi√≥n-general)
- [Caracter√≠sticas](#-caracter√≠sticas)
- [Estructura del Repositorio](#-estructura-del-repositorio)
- [M√≥dulos](#-m√≥dulos)
- [Primeros Pasos](#-primeros-pasos)
  - [Instalaci√≥n](#-instalaci√≥n)
  - [Uso](#-uso)
  - [Pruebas](#-pruebas)
</details>
<hr>

##  Visi√≥n General

El `moviesapi` es un proyecto de software robusto, desarrollado principalmente en C# con .NET Core para construir una API para la gesti√≥n de datos de pel√≠culas. El archivo central de la soluci√≥n, `MoviesApi.sln`, sirve como el plano, coordinando las configuraciones tanto para la aplicaci√≥n principal como para su correspondiente conjunto de pruebas. Esta configuraci√≥n dual facilita una l√≠nea de desarrollo de software sin problemas a trav√©s de los modos de desarrollo y pruebas‚ÄîDebug y Release‚Äîdentro del ecosistema de MoviesApi.

El archivo `MoviesApi.sln.DotSettings.user` configura el entorno de pruebas unitarias de JetBrains dentro de la soluci√≥n de Visual Studio, habilitando la ejecuci√≥n continua de pruebas tanto en pruebas individuales en `MoviesApi.Tests` como en toda la soluci√≥n. Esto permite iteraciones r√°pidas en la escritura y validaci√≥n de nuevas caracter√≠sticas de c√≥digo.

Para pruebas de integraci√≥n eficientes, se implementa un inicializador de base de datos personalizado `LocalDbDatabaseInitializer.cs`, que inicializa, mantiene y destruye bases de datos de prueba seg√∫n sea necesario. Con la capacidad de recrear una base de datos con un esquema predefinido al inicio y limpiarla al finalizar, esta utilidad simplifica las pruebas de interacciones complejas entre componentes dentro de la API.

Una base compartida para las funciones de prueba es establecida por el archivo `BaseTests.cs`, que define escenarios esenciales utilizando una base de datos en memoria, AutoMapper y manejadores de autorizaci√≥n personalizados. Al crear contextos y configuraciones estandarizadas, esta base simplifica la creaci√≥n de pruebas consistentes en diversas funcionalidades dentro de la API.

Por √∫ltimo, la configuraci√≥n del proyecto de pruebas‚Äî`MoviesApi.Tests.csproj`.

---

##  Caracter√≠sticas

| Caracter√≠stica     | Descripci√≥n                                                                                      |
|-------------------|--------------------------------------------------------------------------------------------------|
| ‚öôÔ∏è  **Arquitectura** | Utiliza .NET Core con una estructura de proyecto Web API, adhiri√©ndose a los principios SOLID y APIs RESTful para una gesti√≥n eficiente de recursos y extensibilidad.                |
| üî© **Calidad del C√≥digo** | El proyecto exhibe buenos est√°ndares de codificaci√≥n, incluyendo nombres de variables significativos, componentes modulares y uso efectivo de namespaces. El c√≥digo est√° bien documentado con comentarios XML y JSDoc para mayor claridad.                            |
| üìÑ **Documentaci√≥n** | Documentaci√≥n completa en forma de README, comentarios en el c√≥digo y secciones de Wiki que proporcionan explicaciones claras sobre la estructura del proyecto, su prop√≥sito, dependencias e instrucciones de uso.         |
| üîå **Integraciones** | Utiliza AutoMapper para una mapeo sin problemas entre modelos, Entity Framework Core para acceso a datos y gesti√≥n de bases de datos, y Swagger para generar documentaci√≥n de la API.                           |
| üß© **Modularidad**    | El dise√±o modular del proyecto permite un f√°cil mantenimiento, escalabilidad y extensibilidad al separar diferentes funcionalidades en archivos y namespaces. Cada componente sirve a un prop√≥sito distinto para un c√≥digo limpio y organizado.       |
| üß™ **Pruebas**       | Emplea MSTest, Moq y Microsoft Entity Framework en casos de prueba para verificar el comportamiento de la aplicaci√≥n con mocking, validaci√≥n de datos y pruebas de manipulaci√≥n de datos. La configuraci√≥n de pruebas incluye bases de datos en memoria para ciclos de prueba eficientes.        |
| ‚ö°Ô∏è  **Rendimiento**   | Optimizado a trav√©s de mejoras de rendimiento de .NET Core y el uso de bases de datos de prueba en memoria para pruebas eficientes, reduciendo el uso potencial de recursos y mejorando la eficiencia general de la aplicaci√≥n.          |
| üõ°Ô∏è **Seguridad**      | Utiliza manejadores de autorizaci√≥n personalizados para asegurar el acceso a los datos y la autenticaci√≥n adecuada de los usuarios, as√≠ como cifrado para informaci√≥n sensible y funciones de validaci√≥n para la sanitizaci√≥n de entradas.            |
| üì¶ **Dependencias**  | Las dependencias principales incluyen el framework .NET Core, librer√≠as de C#, archivos de soluci√≥n de Visual Studio, JSON, TXT, archivos de texto y archivos de configuraci√≥n espec√≠ficos del usuario.                                         |

---

##  Estructura del Repositorio

```sh
‚îî‚îÄ‚îÄ moviesapi/
    ‚îú‚îÄ‚îÄ MoviesApi
    ‚îÇ   ‚îú‚îÄ‚îÄ ApplicationDbContext.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Controllers
    ‚îÇ   ‚îú‚îÄ‚îÄ Dependencias.txt
    ‚îÇ   ‚îú‚îÄ‚îÄ Dto
    ‚îÇ   ‚îú‚îÄ‚îÄ Entities
    ‚îÇ   ‚îú‚îÄ‚îÄ Helpers
    ‚îÇ   ‚îú‚îÄ‚îÄ Migrations
    ‚îÇ   ‚îú‚îÄ‚îÄ MoviesApi.csproj
    ‚îÇ   ‚îú‚îÄ‚îÄ Program.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Properties
    ‚îÇ   ‚îú‚îÄ‚îÄ Services
    ‚îÇ   ‚îú‚îÄ‚îÄ Startup.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Validations
    ‚îÇ   ‚îú‚îÄ‚îÄ appsettings.Development.json
    ‚îÇ   ‚îú‚îÄ‚îÄ appsettings.json
    ‚îÇ   ‚îî‚îÄ‚îÄ wwwroot
    ‚îú‚îÄ‚îÄ MoviesApi.Tests
    ‚îÇ   ‚îú‚îÄ‚îÄ AllowAnonymousHandler.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ BaseTests.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Dependencias.txt
    ‚îÇ   ‚îú‚îÄ‚îÄ IntegrationTests
    ‚îÇ   ‚îú‚îÄ‚îÄ LocalDbDatabaseInitializer.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ MoviesApi.Tests.csproj
    ‚îÇ   ‚îú‚îÄ‚îÄ UnitTests
    ‚îÇ   ‚îî‚îÄ‚îÄ UserFalseFilter.cs
    ‚îú‚îÄ‚îÄ MoviesApi.sln
    ‚îî‚îÄ‚îÄ MoviesApi.sln.DotSettings.user
```

---

##  M√≥dulos

<details closed><summary>.</summary>

| Archivo                                                                                                           | Resumen                                                                                                                                                                                                                                                                               |
| ---                                                                                                               | ---                                                                                                                                                                                                                                                                                   |
| [MoviesApi.sln](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.sln)                                   | Coordina las configuraciones para los proyectos MoviesApi y MoviesApi.Tests, permitiendo un desarrollo y prueba sin problemas en modo Debug o Release. Al coordinar estos ajustes, facilita un pipeline robusto de ingenier√≠a de software dentro del ecosistema de MoviesApi.          |
| [MoviesApi.sln.DotSettings.user](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.sln.DotSettings.user) | Configura el entorno de pruebas unitarias de JetBrains dentro de la soluci√≥n de Visual Studio para el proyecto MoviesApi, permitiendo la ejecuci√≥n continua de pruebas tanto individuales en MoviesApi.Tests como de toda la soluci√≥n.                                                  |

</details>

<details closed><summary>MoviesApi.Tests</summary>

| Archivo                                                                                                                           | Resumen                                                                                                                                                                                                                                                                                                                                                                       |
| ---                                                                                                                               | ---                                                                                                                                                                                                                                                                                                                                                                         |
| [LocalDbDatabaseInitializer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/LocalDbDatabaseInitializer.cs)   | Inicializa, mantiene y destruye bases de datos de prueba para la aplicaci√≥n MoviesApi. Facilita pruebas de integraci√≥n eficientes al recrear una base de datos con un esquema predefinido al inicio, pobl√°ndola si es necesario, y limpi√°ndola al finalizar el conjunto de pruebas.                                                                                             |
| [BaseTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/BaseTests.cs)                                     | Este archivo BaseTests.cs sirve como base para las funciones de prueba dentro del proyecto MoviesApi al configurar escenarios de prueba compartidos utilizando una base de datos en memoria, AutoMapper y manejadores de autorizaci√≥n personalizados. Al crear contextos y configuraciones estandarizadas, facilita pruebas eficientes y consistentes en diferentes funcionalidades dentro de la API. |
| [MoviesApi.Tests.csproj](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/MoviesApi.Tests.csproj)                 | Esta configuraci√≥n de proyecto configura MoviesApi.Tests, un conjunto de pruebas automatizadas que utilizan MSTest, Moq y Microsoft Entity Framework. Hace referencia al proyecto principal MoviesApi e integra bases de datos en memoria para validar las funcionalidades de la aplicaci√≥n en un entorno de prueba aislado.                                                    |
| [AllowAnonymousHandler.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/AllowAnonymousHandler.cs)             | En el repositorio de MoviesApi, esta clase personalizada `AllowAnonymousHandler` facilita la omisi√≥n de la autorizaci√≥n para las pruebas dentro de la carpeta MoviesApi.Tests, permitiendo la ejecuci√≥n fluida de pruebas independientemente de los requisitos de autorizaci√≥n establecidos en la arquitectura de la aplicaci√≥n.                                               |
| [UserFalseFilter.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UserFalseFilter.cs)                         | Filtra al usuario personalizado dentro del entorno de prueba en MoviesApi, simulando datos de usuario para fines de pruebas aisladas. Esto promueve pruebas de integraci√≥n seguras y consistentes, mejorando la estabilidad y robustez de la aplicaci√≥n.                                                                                                                       |
| [Dependencias.txt](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/Dependencias.txt)                             | En este archivo relacionado con las pruebas dentro del proyecto MoviesApi, se declaran las dependencias clave para las operaciones de base de datos. Se incluyen el Proveedor de EntityFrameworkCore basado en memoria y Mock (para crear objetos simulados). Adem√°s, esta configuraci√≥n habilita pruebas de integraci√≥n con ASP.NET Core MVC para probar la API en un entorno similar al de producci√≥n.                        |

</details>

<details closed><summary>MoviesApi.Tests.IntegrationTests</summary>

| Archivo                                                                                                                                    | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---                                                                                                                                        | ---                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [GendersControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/IntegrationTests/GendersControllerTests.cs)   | Valida las funcionalidades de `GendersController` en escenarios de pruebas de integraci√≥n de MoviesApi. Asegura la correcta recuperaci√≥n y eliminaci√≥n de g√©neros mediante llamadas a la API, verificando el conteo adecuado y el manejo de errores (401 Unauthorized) en caso de acceso no autorizado.                                                                                                                      |
| [ReviewsControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/IntegrationTests/ReviewsControllerTests.cs)   | Prueba la integraci√≥n de `ReviewsController` dentro de MoviesApi, asegurando el manejo adecuado de pel√≠culas inexistentes. Valida que una solicitud GET devuelva c√≥digos de error 404 al intentar acceder a rese√±as de pel√≠culas inexistentes.                                                                                                                                                                                |

</details>

<details closed><summary>MoviesApi.Tests.UnitTests</summary>

| Archivo                                                                                                                                 | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ---                                                                                                                                      | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [GendersControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/GendersControllerTests.cs)       | Prueba los puntos finales automatizados para el controlador de g√©neros de `MoviesApi`. Este archivo incluye varios m√©todos de prueba que verifican las funcionalidades correctas de GET, POST, PUT y DELETE para la gesti√≥n de g√©neros, asegurando respuestas correctas como c√≥digos de estado exitosos y recuperaci√≥n o creaci√≥n de datos v√°lidos.                                                                                                                                                  |
| [MoviesControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/MoviesControllerTests.cs)         | Prueba la funcionalidad de ordenaci√≥n en la clase MoviesController para la aplicaci√≥n ASP.NET. Dos pruebas aseguran el orden correcto por t√≠tulo ya sea ascendente o descendente, mientras que una tercera prueba valida un mensaje de error cuando se especifica un campo no v√°lido. Las pruebas emplean las bibliotecas Moq y AutoMapper para la inyecci√≥n de dependencias.                                                                                                                                 |
| [ReviewsControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/ReviewsControllerTests.cs)       | El archivo de prueba `ReviewsControllerTests` verifica la funcionalidad dentro de la aplicaci√≥n MoviesApi para la presentaci√≥n de rese√±as. Espec√≠ficamente, asegura que un usuario no pueda enviar m√∫ltiples rese√±as para la misma pel√≠cula al garantizar que los env√≠os subsecuentes resulten en un estado de solicitud incorrecta (400). Adem√°s, valida la creaci√≥n exitosa de una nueva rese√±a por otro usuario en la base de datos, manteniendo rese√±as √∫nicas por pel√≠cula.                        |
| [AuthorsControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/AuthorsControllerTests.cs)       | Asegura que un autor permanezca en la lista, sin tener una foto asignada inicialmente. 2. `CreateAuthorWithPhoto`: Crea con √©xito un autor y guarda su foto en el almacenamiento de archivos, asegurando que se devuelva la respuesta HTTP correcta (C√≥digo: 201). 3. `PatchReturn404IfAuthorExist`: Los autores inexistentes devuelven el estado HTTP 404 como se espera cuando se parchean. 4. `PatchUpdateAFiled`: Actualiza el nombre del autor con √©xito en la operaci√≥n HTTP PATCH con el validador aplicado, y asegura la correcci√≥n de la entrada en la base de datos. |
| [AccountsControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/AccountsControllerTests.cs)     | Instancia `SignInManager` inicializando el administrador de usuarios, httpContext y datos de configuraci√≥n. 2. Configura IdentityOptions con configuraciones de bloqueo personalizadas, simulando `UserManager` con configuraci√≥n de validaci√≥n de contrase√±a. 3. Construye `SignInManager` utilizando el `UserManager` instanciado, `HttpContextAccessor` simulado, opciones, f√°brica de reclamaciones, etc. 4. Simula `IAuthenticationService` y agrega su instancia a la colecci√≥n de servicios dentro del httpContext proporcionado.       |
| [CinemasControllerTests.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi.Tests/UnitTests/CinemasControllerTests.cs)       | Prueba cines dentro de un radio de 5 km desde una ubicaci√≥n espec√≠fica en la aplicaci√≥n MoviesApi, asegurando resultados precisos a trav√©s del `CinemasController`. Las pruebas unitarias utilizan NetTopologySuite para manejar datos espaciales para consultas de ubicaci√≥n precisas y validar el conteo de respuestas, garantizando la calidad del servicio de la API.                                                                                                                              |

</details>

<details closed><summary>MoviesApi</summary>

| Archivo                                                                                                                       | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---                                                                                                                           | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [appsettings.json](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/appsettings.json)                             | Configura los ajustes cr√≠ticos de la aplicaci√≥n para el proyecto MoviesApi. Principalmente aloja las preferencias de nivel de registro, la clave secreta JWT para una autenticaci√≥n segura y la lista de hosts permitidos (establecida en * para acceso universal). Asegura una operaci√≥n estable y segura dentro del ecosistema de MoviesApi.                                                                                                         |
| [MoviesApi.csproj](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/MoviesApi.csproj)                             | Esta configuraci√≥n de proyecto configura una soluci√≥n de MovieAPI con soporte para .NET 6.0, aprovechando herramientas como AutoMapper, Swagger y Microsoft Identity, JsonPatch, SQL Server y Entity Framework Core para operaciones de base de datos. El objetivo es crear un servicio de API de pel√≠culas robusto, escalable y extensible.                                                                                                          |
| [Startup.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Startup.cs)                                         | Inicia y configura los servicios principales para la aplicaci√≥n MoviesApi, gestionando dependencias, autenticaci√≥n, contexto de base de datos y manejo de errores dentro del marco de trabajo .NET Core especificado. Las caracter√≠sticas clave incluyen autenticaci√≥n con JWT Bearer, Identity, AutoMapper para mapeo de datos y conexi√≥n a SQL Server utilizando Entity Framework Core para operaciones de base de datos.                          |
| [Program.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Program.cs)                                         | Lanza la aplicaci√≥n Movies API, aprovechando los archivos de configuraci√≥n y servicios para orquestar operaciones de datos. Las caracter√≠sticas clave incluyen acceso a datos a trav√©s de Entity Framework, puntos finales de API RESTful a trav√©s de ASP.NET Core Web API y reglas de validaci√≥n personalizadas para la integridad de los datos.                                                                                                    |
| [ApplicationDbContext.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/ApplicationDbContext.cs)               | Inicia la poblaci√≥n de datos para las entidades Movie y Author con datos asociados de pel√≠culas y autores, y las relaciones MovieGenders y MoviesAuthors, facilitando la gesti√≥n eficiente de entidades en un sistema de base de datos de pel√≠culas.                                                                                                                                                             |
| [Dependencias.txt](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dependencias.txt)                             | Introduce las dependencias necesarias para SQLServer, comandos de migraci√≥n, AutoMapper, Azure Storage, HTTP Patch, cadenas de ordenaci√≥n, consultas especiales, marco de trabajo Identity y creaci√≥n de tokens JWT utilizando las ofertas de Microsoft. Optimiza el c√≥digo al proporcionar configuraciones y herramientas predefinidas para una experiencia de aplicaci√≥n de API de pel√≠culas fluida y eficiente.                                      |
| [appsettings.Development.json](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/appsettings.Development.json)     | Configura la conexi√≥n a la base de datos para el entorno de desarrollo, inicializando MoviesApi dentro de una instancia local de SQL Server. Adem√°s, configura los niveles de registro, gestionando el flujo de datos dentro de la aplicaci√≥n.                                                                                                                                                                     |

</details>

<details closed><summary>MoviesApi.Services</summary>

| Archivo                                                                                                          | Resumen                                                                                                                                                                                                                                                                                                                      |
| ---                                                                                                              | ---                                                                                                                                                                                                                                                                                                                          |
| [FileStorageLocal.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Services/FileStorageLocal.cs)  | Gestiona el almacenamiento de archivos en el sistema local para la aplicaci√≥n MoviesApi. El servicio FileStorageLocal garantiza que los archivos subidos se guarden en los contenedores apropiados dentro del directorio ra√≠z web y proporciona m√©todos para editar y eliminar archivos seg√∫n sea necesario, manteniendo una estructura de biblioteca digital organizada y eficiente. |
| [IFileStorage.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Services/IFileStorage.cs)          | Gestiona las operaciones de almacenamiento de archivos en la aplicaci√≥n MoviesApi, proporcionando m√©todos para guardar, editar y eliminar archivos seg√∫n su tipo, extensi√≥n y contenedor. Esta interfaz act√∫a como un contrato para implementar funcionalidades de almacenamiento de archivos en diferentes implementaciones de servicio.                                   |
| [FileStorageAzure.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Services/FileStorageAzure.cs)  | Simplifica el almacenamiento de archivos en Azure Blob Storage para la MoviesAPI. Maneja la creaci√≥n, edici√≥n y eliminaci√≥n de archivos, asegurando una gesti√≥n eficiente y organizada del contenido digital. Parte integral de la arquitectura general de MoviesAPI, simplificando los procesos de almacenamiento y manejo de datos.                               |

</details>

<details closed><summary>MoviesApi.Entities</summary>

| Archivo                                                                                                     | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ---                                                                                                         | ---                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [Review.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/Review.cs)                 | En el proyecto MoviesApi, esta entidad Review sirve como la piedra angular para la retroalimentaci√≥n de los usuarios, capturando tanto comentarios como calificaciones asignadas a pel√≠culas espec√≠ficas. Tambi√©n mantiene conexiones con los usuarios autenticados que publican las rese√±as y sus entradas de pel√≠culas relacionadas. Al crear un di√°logo estructurado entre usuarios y pel√≠culas, mejora la interactividad dentro de la aplicaci√≥n, enriqueciendo las experiencias generales de los usuarios. |
| [MoviesCinemas.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/MoviesCinemas.cs)   | Este archivo crea la clase modelo `MoviesCinemas` dentro de la arquitectura de MoviesApi, vinculando pel√≠culas con cines por sus respectivos IDs y habilitando la integridad de datos a trav√©s de propiedades de navegaci√≥n hacia las entidades Movie y Cinema. La conexi√≥n facilita la organizaci√≥n de las pel√≠culas disponibles en varios cines, esencial para una experiencia de usuario sin interrupciones en aplicaciones de exploraci√≥n de pel√≠culas.                           |
| [Gender.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/Gender.cs)                 | Gestiona y organiza los datos de g√©nero dentro de la base de datos de MoviesApi definiendo entidades Gender, permitiendo una integraci√≥n sin problemas entre g√©neros y registros de pel√≠culas asociados a trav√©s de la propiedad MoviesGenders list. Esto promueve una organizaci√≥n eficiente de la estructura de datos para una experiencia de usuario simplificada cuando se trabaja con nuestro repositorio de pel√≠culas.                                                                                  |
| [Movie.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/Movie.cs)                   | Gestiona entidades Movie dentro de la aplicaci√≥n MoviesApi. Cada entidad incluye t√≠tulo, estado InTheaters, fecha de estreno, p√≥ster, m√∫ltiples asociaciones con autores, g√©neros y cines, y un ID √∫nico. Esta clase es instrumental para mantener la persistencia y recuperaci√≥n de datos de pel√≠culas en la base de datos de la aplicaci√≥n.                                                                                                      |
| [Author.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/Author.cs)                 | En el repositorio MoviesApi, esta clase de entidad Author almacena datos esenciales de un autor. Captura atributos del autor como nombre, fecha de nacimiento y foto, manteniendo una relaci√≥n con pel√≠culas a trav√©s del objeto MoviesAuthors. Esta estructuraci√≥n ayuda a crear y gestionar autores en el contexto de la aplicaci√≥n de API de pel√≠culas.                                                                        |
| [IId.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/IId.cs)                       | Facilita la identificaci√≥n de datos en todas las entidades dentro de la aplicaci√≥n MoviesApi, implementando un sistema de Id unificado para una gesti√≥n y navegaci√≥n de datos sin problemas en la base de datos de pel√≠culas.                                                                                                                                                                                                                               |
| [MoviesGenders.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/MoviesGenders.cs)   | Gestiona asociaciones entre pel√≠culas y sus respectivos g√©neros dentro de la aplicaci√≥n MoviesAPI, simplificando el modelado de datos para experiencias de usuario sin problemas.                                                                                                                                                                                                                                                       |
| [Cinema.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/Cinema.cs)                 | En este repositorio, la clase Cinema dentro del directorio Entities de MoviesApi sirve como una estructura de datos vital. Modela un cine, almacenando su nombre y ubicaci√≥n mediante coordenadas geogr√°ficas. Cada cine est√° asociado con m√∫ltiples pel√≠culas que muestra a trav√©s de la relaci√≥n `MoviesCinemas`, enriqueciendo la funcionalidad de descubrimiento de pel√≠culas de la aplicaci√≥n.                                                               |
| [MoviesAuthors.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Entities/MoviesAuthors.cs)   | Enriquece el modelo de datos para el proyecto Movie API definiendo relaciones entre pel√≠culas y autores. Cada objeto `MoviesAuthor` contiene atributos como personaje, orden, autor y pel√≠cula, permitiendo una gesti√≥n fluida de conexiones multifac√©ticas dentro de la base de datos rica en contenido.                                                                                                                                      |

</details>

<details closed><summary>MoviesApi.Dto</summary>

| Archivo                                                                                                                 | Resumen                                                                                                                                                                                                                                                                                                                                                                          |
| ---                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                              |
| [CinemaDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CinemaDto.cs)                            | En el repositorio MoviesApi, la clase CinemaDto encapsula informaci√≥n esencial para cines como ID, nombre, latitud y longitud, sirviendo como un objeto de transferencia de datos que facilita una comunicaci√≥n fluida entre capas dentro de la arquitectura de la aplicaci√≥n.                                                                                                           |
| [CinemaNearDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CinemaNearDto.cs)                    | La clase CinemaNearDto presenta integraci√≥n de datos basada en proximidad al combinar informaci√≥n esencial de Cinema con medici√≥n de distancia en metros, facilitando recomendaciones personalizadas de cines y optimizando la funcionalidad de b√∫squeda para los usuarios de MovieAPI.                                                                                                                     |
| [EditRolDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/EditRolDto.cs)                          | Este Dto permite la transformaci√≥n de datos para actualizar informaci√≥n de roles. En la arquitectura de MoviesApi, `EditRolDto` acepta el ID del usuario y el nombre del rol deseado, facilitando las operaciones de modificaci√≥n de roles sin problemas.                                                                                                                                                                  |
| [MovieDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/MovieDto.cs)                              | Una clase MovieDto codifica detalles de pel√≠culas dentro de un objeto de transferencia de datos (DTO). En este proyecto MoviesApi, estructura los datos de las pel√≠culas capturando atributos esenciales como Id, Title, estado InTheaters, ReleaseDate y URL del p√≥ster. Esto permite un intercambio de informaci√≥n eficiente entre los componentes de nuestra aplicaci√≥n mientras se mantiene una clara separaci√≥n de responsabilidades. |
| [CreateCinemaDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateCinemaDto.cs)                | Empodera a los usuarios para crear nuevos listados de cines con facilidad. Los detalles esenciales solicitados son el Nombre en forma de cadena (obligatorio) y las coordenadas representadas por Latitud y Longitud. Las comprobaciones de validaci√≥n de datos aseguran una entrada precisa. Esto simplifica el proceso de creaci√≥n de cines dentro de nuestra soluci√≥n de API de pel√≠culas.                                                                                   |
| [GenderDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/GenderDto.cs)                            | Garantiza una representaci√≥n consistente de los tipos de g√©nero en las respuestas de la API. Este archivo, GenderDto, encapsula los campos de datos requeridos (Id, Name) con reglas de validaci√≥n (Required, StringLength). Contribuye al modelo de interacci√≥n estructurado y eficiente de MoviesApi al facilitar el intercambio de datos entre la aplicaci√≥n y los usuarios.                                                 |
| [CreateGenderDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateGenderDto.cs)                | Simplifica el manejo de datos para g√©neros de pel√≠culas definiendo los atributos necesarios. En el repositorio `MoviesApi`, la clase `CreateGenderDto` encapsula la validaci√≥n de entrada de nombre requerida para crear g√©neros dentro de la API.                                                                                                                                                     |
| [PaginationDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/PaginationDto.cs)                    | MoviesApi.Dto.PaginationDto Prop√≥sito: Implementa un objeto de transferencia de datos de paginaci√≥n reutilizable para filtrar y limitar resultados de manera eficiente dentro de la aplicaci√≥n MoviesAPI. Admite tama√±os de p√°gina personalizables manteniendo un l√≠mite m√°ximo de 50 registros por p√°gina.                                                                                                           |
| [MoviesIndexDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/MoviesIndexDto.cs)                  | En MoviesApi Dtos, la clase MoviesIndexDto agrega informaci√≥n cr√≠tica sobre lanzamientos futuros y los que est√°n actualmente en los cines para una visualizaci√≥n eficiente dentro de la aplicaci√≥n.                                                                                                                                                                                                     |
| [MoviePatchDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/MoviePatchDto.cs)                    | La clase `MoviePatchDto` maneja la transformaci√≥n de datos para actualizaciones de pel√≠culas en MoviesApi. Toma como entrada el t√≠tulo de la pel√≠cula (con validaci√≥n de longitud) y el estado de teatro, facilitando actualizaciones sin problemas dentro de la infraestructura de la aplicaci√≥n.                                                                                                                                           |
| [CreateAuthorMovieDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateAuthorMovieDto.cs)      | Facilita la creaci√≥n de un registro de autor-pel√≠cula con los atributos necesarios (AuthorId, Character). Se integra dentro de la arquitectura m√°s amplia de MoviesApi para la gesti√≥n y almacenamiento sin problemas de datos de pel√≠culas.                                                                                                                                                                         |
| [AuthorDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/AuthorDto.cs)                            | Este objeto de transferencia de datos (AuthorDto) captura informaci√≥n esencial sobre autores de pel√≠culas en la MoviesAPI, encapsulando su ID √∫nico, nombre, fecha de nacimiento y foto para un intercambio de datos sin problemas entre las capas de la aplicaci√≥n.                                                                                                                                                |
| [FilterMovieDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/FilterMovieDto.cs)                  | Transforma solicitudes para filtrar pel√≠culas dentro de una API, gestionando paginaci√≥n, b√∫squeda por t√≠tulo, filtro por g√©nero y clasificaci√≥n por estado de lanzamiento, asegurando una experiencia de usuario flexible. Esta clase simplifica el manejo de consultas complejas en m√∫ltiples p√°ginas.                                                                                                                                    |
| [UserTokenDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/UserTokenDto.cs)                      | Empodera la autenticaci√≥n segura de usuarios creando objetos UserTokenDto dentro de MoviesApi. Cada instancia contiene un token de acceso y un tiempo de expiraci√≥n para una gesti√≥n eficiente de usuarios autorizados en toda la aplicaci√≥n.                                                                                                                                                            |
| [UserDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/UserDto.cs)                                | Este Dto (Objeto de Transferencia de Datos) en el repositorio MoviesApi define una simple clase UserDto para estructurar y transportar informaci√≥n esencial del usuario, incluyendo Id y Correo electr√≥nico. Al facilitar una comunicaci√≥n eficiente entre diferentes capas de la aplicaci√≥n, contribuye a interacciones de usuario sin problemas dentro de la arquitectura del sistema.                                          |
| [ReviewDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/ReviewDto.cs)                            | Simplifica la gesti√≥n de rese√±as en la aplicaci√≥n MoviesApi. La clase `ReviewDto` encapsula datos clave para rese√±as, incluyendo comentario, puntuaci√≥n y detalles relacionados con el usuario, permitiendo un almacenamiento y recuperaci√≥n eficiente de datos de rese√±as.                                                                                                                                              |
| [CinemaNearFilterDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CinemaNearFilterDto.cs)        | En este archivo de c√≥digo, construimos un objeto CinemaNearFilterDto que empodera a los usuarios para buscar cines cercanos especificando coordenadas, distancia deseada (en km) y un l√≠mite en el radio m√°ximo de b√∫squeda. Esto facilita proporcionar recomendaciones personalizadas y enriquece la experiencia general del usuario en la aplicaci√≥n MoviesApi.                                         |
| [CreateReviewDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateReviewDto.cs)                | Empodera a los entusiastas del cine al permitir la creaci√≥n de rese√±as mediante API. La clase `CreateReviewDto` simplifica la entrada del usuario, asegurando puntuaciones de rese√±as precisas y v√°lidas (1-5) junto con un comentario descriptivo. Esta acci√≥n forma una parte crucial de la arquitectura de MoviesApi que mejora la interactividad de los usuarios en las cr√≠ticas de pel√≠culas.                                         |
| [UserInfoDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/UserInfoDto.cs)                        | Transforma datos de registro de usuarios en un formato manejable con la clase UserInfoDto, esencial para autenticar usuarios y asegurar que los campos requeridos (Correo electr√≥nico, Contrase√±a) siempre se suministren dentro de la arquitectura de MoviesApi.                                                                                                                                                     |
| [AuthorPatchDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/AuthorPatchDto.cs)                  | ¬°Empodera a los entusiastas del cine! Este DTO (AuthorPatchDto) refina los detalles del autor en el repositorio MoviesApi, permitiendo actualizaciones sin problemas de nombres y fechas de nacimiento dentro de la API de la aplicaci√≥n. La estructura limpia y concisa asegura una experiencia optimizada para todos los usuarios que interact√∫an con esta plataforma centrada en el cine.                                                              |
| [CreateAuthorDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateAuthorDto.cs)                | Mejora las interacciones de los usuarios dentro de la plataforma MoviesAPI al permitir la entrada de datos para la foto de un autor mediante un archivo de formulario, adhiri√©ndose a las restricciones de tama√±o y tipo de archivo establecidas para un manejo √≥ptimo de im√°genes.                                                                                                                                                                              |
| [CreateMovieDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/CreateMovieDto.cs)                  | Simplifica la entrada de datos para la creaci√≥n de pel√≠culas en la MoviesAPI, manejando la entrada para el archivo del p√≥ster de la pel√≠cula, la selecci√≥n de g√©neros (a trav√©s de Ids) y autores asociados a trav√©s de objetos CreateAuthorMovieDto. Impone limitaciones de tama√±o y tipo de archivo y utiliza funciones de enlace personalizadas para asegurar la integridad de los datos.                                                                           |
| [MovieDetailDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/MovieDetailDto.cs)                  | La clase MovieDetailDto simplifica la informaci√≥n de la pel√≠cula al incorporar atributos adicionales, como g√©neros y autores asociados, expandi√©ndose sobre el MovieDto b√°sico. Esto facilita el manejo amigable de datos detallados de pel√≠culas dentro de la arquitectura de MoviesAPI.                                                                                                      |
| [AuthorMovieDetailDto.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Dto/AuthorMovieDetailDto.cs)      | Un objeto de transferencia de datos personalizado (AuthorMovieDetailDto) para la comunicaci√≥n eficiente entre la capa API y el nivel de datos. Consolida atributos esenciales del autor, incluyendo ID √∫nico, personaje interpretado y nombre del personaje. Permite una comprensi√≥n m√°s clara y un procesamiento m√°s r√°pido de las relaciones complejas entre pel√≠culas y autores.                                                            |

</details>

<details closed><summary>MoviesApi.Migrations</summary>

| Archivo                                                                                                                                                                                    | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ---                                                                                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [20230710192706_Reviews.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710192706_Reviews.Designer.cs)                                         | MoviesApi/Migrations/20230710192706_Reviews.Designer.cs Este archivo de c√≥digo pertenece a la carpeta de Migraciones del repositorio de Movie API, indicando que maneja las migraciones de la base de datos en esta aplicaci√≥n. La caracter√≠stica principal aqu√≠ es la implementaci√≥n de una migraci√≥n llamada Reviews que tiene como objetivo crear, modificar o eliminar tablas relacionadas con las rese√±as de usuarios dentro de ApplicationDbContext. Al gestionar la evoluci√≥n y adaptaci√≥n de estas estructuras de base de datos, esta migraci√≥n contribuye a la flexibilidad, escalabilidad y resiliencia general de la aplicaci√≥n Movie API. Esta migraci√≥n espec√≠fica de rese√±as se ejecut√≥ el 10 de julio de 2023. El c√≥digo logra esto definiendo relaciones entre entidades existentes como rese√±as de usuarios dentro de ApplicationDbContext y el modelo que se est√° construyendo por la clase ModelBuilder, con las anotaciones adecuadas para la versi√≥n del producto y otros detalles.                                                                                                                                                                                                                                                                                                                                                           |
| [20230709221834_CinemaLocation.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709221834_CinemaLocation.cs)                                             | Esta migraci√≥n actualiza el esquema de la base de datos a√±adiendo una columna de coordenada geogr√°fica (Ubicaci√≥n) a la tabla de Cinema, permitiendo b√∫squedas espaciales de cines basadas en su ubicaci√≥n f√≠sica dentro de la aplicaci√≥n. Adem√°s, define g√©neros predeterminados (Acci√≥n, Comedia, Drama) y los inserta en la tabla Genders durante las actualizaciones. Por el contrario, al revertir los cambios, esta migraci√≥n elimina estos g√©neros definidos y elimina la columna Ubicaci√≥n de la tabla Cinema.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [20230710142335_Cinema-Data.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710142335_Cinema-Data.Designer.cs)                                 | Establece relaciones de muchos a muchos entre las entidades `Author`, `Cinema`, `Gender` y `Movie`. Cada relaci√≥n es bidireccional y utiliza la eliminaci√≥n en cascada en las claves for√°neas. Adem√°s, se configuran las propiedades de navegaci√≥n para todas las relaciones.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [20230710192706_Reviews.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710192706_Reviews.cs)                                                           | Introduce una tabla para rese√±as de usuarios dentro de la base de datos de pel√≠culas, conectando cada rese√±a con un usuario individual y una pel√≠cula espec√≠fica, agilizando el seguimiento de calificaciones y comentarios. Esta migraci√≥n asegura una gesti√≥n escalable de datos a medida que la base de usuarios crece y evoluciona.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [20230710184849_AdminData.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710184849_AdminData.cs)                                                       | Inicializa y siembra datos de administrador dentro de la base de datos durante el proceso de migraci√≥n en la aplicaci√≥n MoviesApi, creando un rol de administrador, una cuenta de usuario y los reclamos correspondientes, reforzando el sistema de gesti√≥n de acceso basado en identidad para la aplicaci√≥n.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [20230709170425_MoviesAuthors_MoviesGenders.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709170425_MoviesAuthors_MoviesGenders.Designer.cs) | Genera el esquema de la base de datos para la aplicaci√≥n `MoviesApi`. Define tablas para las entidades `Author`, `Gender` y `Movie`, as√≠ como relaciones entre ellas. Establece claves for√°neas y restricciones para asegurar la integridad de los datos. Soporta la relaci√≥n de muchos a muchos entre pel√≠culas y autores o g√©neros en el esquema de la base de datos.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [20230708204143_Authors.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230708204143_Authors.Designer.cs)                                         | Este archivo de c√≥digo contribuye al proyecto MoviesApi definiendo el esquema para las entidades Author y Gender dentro de ApplicationDbContext. Las tablas Authors y Genders se generan con las propiedades adecuadas, como Id (auto-increment), BirthdayDate, Name y Photo (para Authors), proporcionando una estructura robusta para almacenar y gestionar informaci√≥n de autores en la base de datos.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [20230710175611_Identity.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710175611_Identity.Designer.cs)                                       | Este archivo de c√≥digo, `MoviesApi/Migrations/20230710175611_Identity.Designer.cs`, es parte del repositorio `MoviesApi`, que es una aplicaci√≥n Web API de .NET Core centrada en la gesti√≥n de datos de pel√≠culas. Espec√≠ficamente, este archivo desempe√±a un papel esencial en la gesti√≥n de actualizaciones del esquema de la base de datos para el `ApplicationDbContext`, que es el DbContext principal (o contexto de base de datos) para interactuar con la base de datos subyacente. El c√≥digo crea o modifica tablas dentro de la base de datos seg√∫n los cambios realizados en las estructuras de datos y clases de entidad de la aplicaci√≥n a lo largo del tiempo. Utiliza Entity Framework Core (EFCore), un moderno y popular mapeador objeto-relacional de c√≥digo abierto para .NET de Microsoft. En t√©rminos sencillos, EFCore ayuda a gestionar la interacci√≥n entre tu c√≥digo y una base de datos, permitiendo operaciones CRUD sin problemas para las entidades o modelos de la aplicaci√≥n, en este caso, datos relacionados con pel√≠culas. La caracter√≠stica principal de este archivo es su m√©todo `BuildTargetModel`, que personaliza el esquema objetivo definiendo la estructura y relaciones dentro de la base de datos subyacente seg√∫n lo especificado por las entidades definidas en otras partes del proyecto. Esto asegura que la base de datos se adhiera a los requisitos de la aplicaci√≥n y cambie cuando esos requisitos evolucionen. |
| [20230706193553_Initial.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230706193553_Initial.cs)                                                           | Inicia el esquema de la tabla para la entidad Gender en la base de datos de MoviesAPI, permitiendo el almacenamiento y gesti√≥n de tipos de g√©nero dentro de la aplicaci√≥n. Esta migraci√≥n apoya la flexibilidad y escalabilidad en futuras operaciones de datos.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [20230708204143_Authors.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230708204143_Authors.cs)                                                           | Introduce una nueva tabla `Authors` en la estructura de la base de datos, capturando detalles esenciales como Nombre, Fecha de Nacimiento y URL de la Foto. Esto empodera a MoviesAPI para gestionar de manera m√°s efectiva a los creadores de pel√≠culas.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [20230708230015_Movies.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230708230015_Movies.cs)                                                             | Una nueva tabla Movies en el esquema de la base de datos de MoviesApi para almacenar datos de pel√≠culas con columnas Id, Title, InTheaters, ReleaseDate y Poster. Esta migraci√≥n tambi√©n incluye reglas de clave primaria (PK_Movies) y de anulabilidad seg√∫n lo definido por EntityFrameworkCore.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [20230709215643_Cinema.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709215643_Cinema.cs)                                                             | MoviesGenders, Authors, Genders, Movies. Elimina entradas con combinaciones de GenderId y MovieId coincidentes de la tabla MoviesGenders. Elimina autores y g√©neros especificados de sus respectivas tablas. Tambi√©n elimina pel√≠culas con ids espec√≠ficos.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [20230710142335_Cinema-Data.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710142335_Cinema-Data.cs)                                                   | Inserta o elimina cines de la base de datos seg√∫n las migraciones, mejorando la gesti√≥n de datos de cines de MovieAPI al definir su ubicaci√≥n y nombres dentro de la base de datos geoespacial, facilitando capacidades de b√∫squeda de cines eficientes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [20230709221834_CinemaLocation.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709221834_CinemaLocation.Designer.cs)                           | Author, Cinema y Gender. Asegura la eliminaci√≥n en cascada adecuada y las propiedades de navegaci√≥n.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [20230708230015_Movies.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230708230015_Movies.Designer.cs)                                           | En este script de migraci√≥n para el repositorio de MoviesApi, se definen nuevas entidades `Author`, `Gender` y `Movie` con propiedades espec√≠ficas. Esto sirve para dar forma al esquema de la base de datos seg√∫n el dise√±o de la aplicaci√≥n, asegurando una interacci√≥n fluida con los datos relacionados con pel√≠culas dentro del servicio MoviesAPI.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [ApplicationDbContextModelSnapshot.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/ApplicationDbContextModelSnapshot.cs)                                     | En la estructura del repositorio de MoviesApi, el archivo cr√≠tico es `ApplicationDbContextModelSnapshot.cs` ubicado dentro de la carpeta de Migraciones. Este archivo de c√≥digo gestiona y mantiene el esquema de la base de datos que soporta nuestra aplicaci√≥n de API de pel√≠culas (ApplicationDbContext). El papel principal de este archivo es asegurar la compatibilidad entre el esquema de la base de datos y las clases de entidad mediante la creaci√≥n, alteraci√≥n o eliminaci√≥n de tablas seg√∫n sea necesario basado en las actualizaciones realizadas a las entidades. Esto ayuda a mantener nuestra aplicaci√≥n sincronizada con cualquier cambio realizado a su modelo de datos subyacente a lo largo del tiempo. Adem√°s, se adhiere a Entity Framework Core, un popular mapeador objeto-relacional (ORM), permiti√©ndonos usar objetos C# para interactuar con bases de datos SQL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [20230710175611_Identity.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710175611_Identity.cs)                                                         | Users, Roles, UserRoles (muchos a muchos), RoleClaims, UserClaims, UserLogins y UserTokens; define restricciones de clave for√°nea, claves primarias e √≠ndices; proporciona migraciones up/down para f√°cil despliegue y reversi√≥n.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [20230710184849_AdminData.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230710184849_AdminData.Designer.cs)                                     | Este archivo de c√≥digo, ubicado en `MoviesApi/Migrations/20230710184849_AdminData.Designer.cs`, es parte del repositorio MoviesAPI y sirve para crear y gestionar cambios en el esquema de la base de datos durante el desarrollo. Es esencial para gestionar el ApplicationDbContext, que almacena todos los datos de la aplicaci√≥n, como pel√≠culas, usuarios, etc., en un servidor SQL. Este archivo espec√≠fico genera scripts de migraci√≥n para configurar datos iniciales de administrador cuando sea necesario. En otras palabras, configura registros predefinidos para agilizar los procesos de desarrollo, como cuentas de administrador predeterminadas o cat√°logos de pel√≠culas precargados. Esta migraci√≥n se llama 20230710184849_AdminData' para identificar la fecha y prop√≥sito de este cambio espec√≠fico en el control de versiones, lo cual es una pr√°ctica organizacional recomendada en proyectos de desarrollo a gran escala. Este archivo referencia bibliotecas cr√≠ticas como NetTopologySuite para gestionar datos geogr√°ficos cuando sea aplicable. En general, este archivo asegura un flujo de desarrollo sin problemas con la configuraci√≥n inicial de datos cuando se requiera.                                                                                                                                                                                                                               |
| [20230709215643_Cinema.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709215643_Cinema.Designer.cs)                                           | Este modelo de Entity Framework Core define relaciones de muchos a muchos entre la entidad `Movie` y otras tablas (Authors, Cinemas, Genders) a trav√©s de tablas de uni√≥n correspondientes. Tambi√©n especifica las navegaciones requeridas para que cada entidad acceda a las entidades relacionadas. El modelo utiliza la eliminaci√≥n en cascada para mantener la integridad referencial al eliminar datos de una tabla.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [20230706193553_Initial.Designer.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230706193553_Initial.Designer.cs)                                         | Inicializa el esquema de entidad para el proyecto MovieAPI definiendo la estructura de la tabla Gender con las columnas Id (Auto-Incrementado) y Name, adhiri√©ndose a los est√°ndares de bases de datos relacionales y usando Entity Framework Core.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [20230709170425_MoviesAuthors_MoviesGenders.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Migrations/20230709170425_MoviesAuthors_MoviesGenders.cs)                   | Este archivo de migraci√≥n establece nuevas tablas `MoviesAuthors` y `MoviesGenders` en la base de datos de MoviesApi, conectando pel√≠culas con sus autores y g√©neros, respectivamente. El objetivo es mapear las relaciones entre entidades para una recuperaci√≥n m√°s f√°cil, mejorando la integridad y eficiencia de los datos dentro del sistema MovieAPI.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

</details>

<details closed><summary>MoviesApi.Properties</summary>

| Archivo                                                                                                              | Resumen                                                                                                                                                                                                                                                                                                                                  |
| ---                                                                                                               | ---                                                                                                                                                                                                                                                                                                                                      |
| [launchSettings.json](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Properties/launchSettings.json) | Define dos perfiles (Development y IIS Express)* Establece la URL de la aplicaci√≥n para ambos entornos* Habilita la autenticaci√≥n an√≥nima en el entorno de Development* Inicializa el proyecto con el comando dotnet run y abre el navegador predeterminado con el endpoint de la API para el recurso de g√©neros* Permite ajustar la variable de entorno ASPNETCORE_ENVIRONMENT. |

</details>

<details closed><summary>MoviesApi.Helpers</summary>

| Archivo                                                                                                                     | Resumen                                                                                                                                                                                                                                                                                                                                                              |
| ---                                                                                                                      | ---                                                                                                                                                                                                                                                                                                                                                                  |
| [MovieExistAttribute.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Helpers/MovieExistAttribute.cs)     | El `MovieExistAttribute` ayuda a asegurar que cada ID de pel√≠cula solicitado exista en la base de datos antes de procesar la solicitud. Al hacer esto, la aplicaci√≥n previene errores no intencionados como obtener o manipular registros de pel√≠culas que no existen, mejorando la confiabilidad de la API.                                                                             |
| [AutoMapperProfiles.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Helpers/AutoMapperProfiles.cs)       | Transforma datos entre modelos (Dto, Entidades, GenderDto) para un uso eficiente dentro de la aplicaci√≥n MoviesApi. Al emplear perfiles de AutoMapper, simplifica la interacci√≥n entre diferentes entidades al mapear los datos de acuerdo y automatizar el proceso.                                                                                                             |
| [HttpContextExtensions.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Helpers/HttpContextExtensions.cs) | Empodera la paginaci√≥n din√°mica en toda la aplicaci√≥n MoviesApi. La clase de ayuda proporcionada, `HttpContextExtensions`, permite establecer el n√∫mero de p√°ginas en una Respuesta HTTP calcul√°ndolo en funci√≥n de la cantidad de registros devueltos y la cantidad de registros por p√°gina definida por el usuario. Esto optimiza el uso de recursos y la experiencia del usuario al acceder a grandes conjuntos de datos. |
| [QueryableExtensions.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Helpers/QueryableExtensions.cs)     | Implementado como m√©todo Paginate en `QueryableExtensions`. Permite a los desarrolladores gestionar y recuperar datos de pel√≠culas p√°gina por p√°gina f√°cilmente seg√∫n los par√°metros de paginaci√≥n proporcionados, mejorando la experiencia del usuario para la aplicaci√≥n Movie API.                                                                                                                                          |
| [TypeBinder.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Helpers/TypeBinder.cs)                       | La clase `TypeBinder<T>` en Helpers de MoviesApi simplifica el manejo de tipos de datos complejos al convertir autom√°ticamente cadenas JSON en objetos de tipo especificado durante la vinculaci√≥n de modelos en ASP.NET Core, asegurando as√≠ un procesamiento eficiente de datos y respuestas de API amigables para el usuario.                                                                                       |

</details>

<details closed><summary>MoviesApi.Validations</summary>

| Archivo                                                                                                                   | Resumen                                                                                                                                                                                                                                                                  |
| ---                                                                                                                    | ---                                                                                                                                                                                                                                                                      |
| [SizeFileValidation.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Validations/SizeFileValidation.cs) | Este atributo de validaci√≥n personalizado asegura que el tama√±o de cada archivo cargado no exceda el l√≠mite predefinido en megabytes (MB) para una experiencia de usuario m√°s fluida y una gesti√≥n eficiente del servidor.                                                                               |
| [TypeFileValidation.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Validations/TypeFileValidation.cs) | Esta clase de Validaci√≥n, ubicada en el proyecto MoviesApi, valida los tipos de archivo cargados por el usuario para conformarse con extensiones espec√≠ficas. Asegura que el contenido enviado solo incluya im√°genes (por ejemplo, .jpeg, .png o .gif) salvaguardando as√≠ la integridad de los datos de la API. |
| [GroupTypeFile.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Validations/GroupTypeFile.cs)           | Este enum `GroupTypeFile` potencia la MoviesApi definiendo y categorizando los archivos cargados seg√∫n el tipo, particularmente im√°genes, simplificando la gesti√≥n de archivos dentro de la arquitectura de la aplicaci√≥n.                                                                        |

</details>

<details closed><summary>MoviesApi.Controllers</summary>

| Archivo                                                                                                                       | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---                                                                                                                        | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [MoviesController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/MoviesController.cs)         | La API gestiona pel√≠culas mediante la obtenci√≥n de detalles (GET), la creaci√≥n de nuevas entradas (POST), la actualizaci√≥n (PUT), las modificaciones parciales (PATCH) y la eliminaci√≥n de entradas (DELETE). La API maneja relaciones con autores y g√©neros a trav√©s de Includes, mapea modelos usando AutoMapper y almacena contenido de archivos mediante FileStorage para la imagen del p√≥ster de las pel√≠culas.                                                                                                                                                                                                            |
| [AuthorsController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/AuthorsController.cs)       | Gestiona las operaciones CRUD para los recursos de Autor dentro de la aplicaci√≥n Movies API. Utiliza la inyecci√≥n de dependencias para interactuar con el contexto de datos subyacente y los servicios de almacenamiento de archivos. Implementa endpoints RESTful para crear, recuperar, actualizar y eliminar instancias de Autor seg√∫n las solicitudes del usuario. Utiliza AutoMapper para una conversi√≥n eficiente entre DTOs y entidades.                                                                                                                                        |
| [CustomBaseController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/CustomBaseController.cs) | Este CustomBaseController sirve como la base para los endpoints de la API dentro del proyecto MoviesApi. Simplifica las operaciones de base de datos al abstraer las funciones CRUD (Crear, Leer, Actualizar, Eliminar) utilizando Entity Framework Core y AutoMapper. Esto permite un manejo f√°cil de las entidades de datos de manera consistente y eficiente, mejorando la mantenibilidad y legibilidad.                                                                                                                                                     |
| [AccountsController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/AccountsController.cs)     | El archivo `AccountsController.cs` dentro del proyecto `MoviesApi` gestiona la autenticaci√≥n de usuarios para una API. Maneja la creaci√≥n de nuevos usuarios, inicio de sesi√≥n, actualizaci√≥n de tokens y la obtenci√≥n de una lista de usuarios para administradores, con funcionalidad de asignaci√≥n y eliminaci√≥n de roles para usuarios autorizados con el rol de Administrador.                                                                                                                                                                                                                    |
| [ReviewController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/ReviewController.cs)         | Gestiona y procesa las rese√±as de usuarios para pel√≠culas espec√≠ficas en una aplicaci√≥n web, aprovechando modelos de datos, mapeadores, autenticaci√≥n y autorizaci√≥n para asegurar una interacci√≥n segura y sin problemas. Las funciones clave incluyen la creaci√≥n, actualizaci√≥n, eliminaci√≥n y recuperaci√≥n de rese√±as de pel√≠culas desde una base de datos a trav√©s de varios verbos HTTP.                                                                                                                                                                                                 |
| [CinemasController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/CinemasController.cs)       | Gestiona operaciones CRUD (Crear, Leer, Actualizar, Eliminar) en entidades de Cine en la base de datos de Movies API. Facilita b√∫squedas de cines basadas en geolocalizaci√≥n con opciones de filtro como distancia y ubicaci√≥n del usuario. Utiliza AutoMapper para convertir DTOs y Entidades. Interact√∫a con ApplicationDbContext para ejecutar consultas, asegurando la consistencia de los datos y el esquema correcto.                                                                                                                                                                    |
| [GendersController.cs](https://github.com/juansdev/moviesapi/blob/master/MoviesApi/Controllers/GendersController.cs)       | Gestiona las interacciones de datos de g√©neros dentro de la API de Movies. Este controlador, espec√≠ficamente GendersController, maneja todas las solicitudes HTTP relacionadas con g√©neros, incluyendo operaciones Get, Post, Put y Delete. Al aprovechar la inyecci√≥n de dependencias, interact√∫a con objetos Dto y Entidad de manera fluida, asegurando una interfaz consistente entre las solicitudes del front-end y las estructuras de datos del back-end. Adem√°s, el control de acceso se mantiene a trav√©s del atributo [Authorize] para operaciones de eliminaci√≥n, que requiere autenticaci√≥n JWT. |

</details>

---

##  Primeros Pasos

**Requerimientos del Sistema:**

* **CSharp**: `versi√≥n 10`
* **.NET**: `versi√≥n 6`

###  Instalaci√≥n

<h4>Desde <code>source</code></h4>

> 1. Clona el repositorio moviesapi:
>
> ```console
> $ git clone https://github.com/juansdev/moviesapi
> ```
>
> 2. Cambia al directorio del proyecto:
> ```console
> $ cd moviesapi
> ```
>
> 3. Instala las dependencias:
> ```console
> $ dotnet build
> ```
>
> 4. Edite la conexi√≥n a su BD de Microsoft SQL Server en la llave "DefaultConnection" alojada en el archivo MoviesApi/appsettings.Development.json.
>
> 5. Active el Servidor Microsoft SQL.
>
> 6. Ejecutar las migraciones mediante el comando "update-database"
> 
> 7. Edite la conexi√≥n a su Almacenamiento de Azure en la llave "AzureStorage".

###  Uso

<h4>Desde <code>source</code></h4>

> Despliega moviesapi usando el comando debajo:
> ```console
> $ dotnet run
> ```

###  Pruebas

> Ejecuta el conjunto de pruebas utilizando el siguiente comando:
> ```console
> $ dotnet test
> ```
